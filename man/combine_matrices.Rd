% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mcmc_SMR.R
\name{combine_matrices}
\alias{combine_matrices}
\title{Combine Matrices Along First Dimension}
\usage{
combine_matrices(...)
}
\arguments{
\item{...}{Arrays or matrices to be combined. All inputs must have the same number
of dimensions and matching dimensions except for the first.}
}
\value{
An array or matrix containing all input arrays stacked along the first
dimension, with other dimensions preserved.
}
\description{
Combines multiple arrays or matrices along their first dimension (typically rows),
while preserving all other dimensions. This function handles arrays of arbitrary
dimensionality (2D matrices, 3D arrays, etc.) as long as all dimensions except
the first match across inputs.
}
\details{
The function performs the following operations:
\enumerate{
\item Input Validation:
\itemize{
\item Checks that at least one matrix is provided
\item Verifies all inputs have same number of dimensions
\item Confirms all dimensions except the first match across inputs
}
\item Array Combination:
\itemize{
\item Calculates total size needed for first dimension
\item Creates zero-filled result array
\item Copies each input array into the appropriate position
\item Handles special cases for 2D, 3D, and 4D arrays
\item Uses dynamic indexing for higher dimensions
}
}

The function supports arrays of any dimension, though explicit handling is
optimized for 2D-4D cases. Higher dimensional arrays are handled using
more general but potentially slower methods.
}
\examples{
# 2D matrices
mat1 <- matrix(1:6, nrow=2, ncol=3)
mat2 <- matrix(7:12, nrow=2, ncol=3)
combined_2d <- combine_matrices(mat1, mat2)

# 3D arrays
arr1 <- array(1:12, dim=c(2,3,2))
arr2 <- array(13:24, dim=c(2,3,2))
combined_3d <- combine_matrices(arr1, arr2)

# Mixed number of rows
mat3 <- matrix(1:9, nrow=3, ncol=3)
mat4 <- matrix(10:15, nrow=2, ncol=3)
combined_mixed <- combine_matrices(mat3, mat4)

\dontrun{
# Will raise an error - different number of columns
mat1 <- matrix(1:6, nrow=2, ncol=3)
mat2 <- matrix(7:10, nrow=2, ncol=2)
combined <- combine_matrices(mat1, mat2)
}

}
