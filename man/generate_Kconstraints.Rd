% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mcmc_SMR.R
\name{generate_Kconstraints}
\alias{generate_Kconstraints}
\title{Generate K-Constraints Matrix for Capture-Recapture Data}
\usage{
generate_Kconstraints(data, y_sight_latent, n_marked, M, n_samp_latent, K2)
}
\arguments{
\item{data}{List. Contains study data, optionally including 'markedS' matrix for
marking status information.}

\item{y_sight_latent}{Array. 3D array of latent capture histories with dimensions
n_samp_latent × n_occasions × n_traps.}

\item{n_marked}{Integer. Number of marked individuals in the study.}

\item{M}{Integer. Total number of individuals (marked + unmarked) in the population.}

\item{n_samp_latent}{Integer. Number of latent samples.}

\item{K2}{Integer. Number of secondary sampling occasions.}
}
\value{
Matrix. An M × n_samp_latent constraint matrix where:
\itemize{
\item 0: Individual-sample combination not allowed
\item 1: Individual-sample combination allowed (standard marking)
\item 2: Individual-sample combination allowed (alternative marking status)
}
}
\description{
Generates a constraint matrix that defines valid associations between marked individuals
and capture events based on marking status and sighting occasions. This function
is particularly useful in spatial capture-recapture studies where individuals may
have different marking statuses across sampling occasions.
}
\details{
The function performs the following operations:
\enumerate{
\item Input Validation:
\itemize{
\item Checks data structure and types
\item Validates dimensions and positive values
\item Ensures compatibility of markedS matrix if provided
}
\item Constraint Generation:
\itemize{
\item Initializes M × n_samp_latent constraint matrix
\item Processes each marked individual against all samples
\item Uses first sighting occasion to determine constraints
\item Incorporates marking status from markedS matrix
}
}

If markedS is not provided in the data list, all marked individuals are assumed
to have standard marking status (1) for all occasions.
}
